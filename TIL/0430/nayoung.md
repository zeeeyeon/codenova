# 2025.04.30(수) 멀티모드 웹소켓 1일차

### KPT 작성

#### `Keep` : 현재 만족하고 있는 부분, 계속 이어갔으면 하는 부분

- 팀원들과 원활한 소통 🌟

#### `Problem` : 불편하게 느끼는 부분, 개선이 필요하다고 생각되는 부분

- 멀티모드 웹소켓 연결하고 더미삭제 하고 시작했는데 역시 만만치 않다..

- api 명세서 보면서 하고있는데 개념이 제대로 안박힌채로 하다보니까 살짝 멘붕

#### `Try` : problem에 대한 해결책, 다음 회고 때 판별 가능한 것, 당장 실행 가능한 것

- 내일 입다물고 웹소켓 차근차근해보기

- 좀 더 알면서 웹소켓 연결하고 해봐야될거같다..

- 마음이 급해서 그런가 급하게 하다보니 놓치는 부분 있는거같음

---
#### `Today`

- 멀티모드 방생성 완료

- 멀티모드 멀티페이지 방 목록 보이기 완료

- 메인갔다가 멀티페이지 진입해도 방 목록 그대로 보이고 새로고침했을때도 방 목록 보임임

---

### 코드노바 소켓 설정

- 메인 페이지 접근시 로그인한 사용자 모두 소켓 연결

- 앱 최상위에서 연결해야 하위 컴포넌트에서 getSocket()으로 공유 가능

- 페이지 이동마다 다시 연결하는 건 리소스 낭비 + 끊김/지연 가능성 증가

- 최초 한 번만 연결하고, 필요한 컴포넌트는 `emit()`만 하면 되는 구조가 효율적

- MultiSocket.js 기능별로 이벤트 분리했을 뿐 소켓은 하나 `socketClient.js` / 모드별로 사용하는 이벤트만 따로 묶은 것(관심사 분리)

    - 전역에서 WebSocket 하나만 유지

- Socket.IO는 이벤트 기반이라 다용도에 적합하여 웹소켓 하나로 공유해도 괜찮

---

